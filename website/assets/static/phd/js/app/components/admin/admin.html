
<!-- USER ROLES -->
<h2>Change selected users' role to: </h2>

<div class="input-group">
    <label class="input-group-btn">
        <button type="button" class="btn btn-primary" ng-click="vm.changeRoles()">Change</button>
    </label>

    <select class="form-control" id="userRole" ng-model="vm.newRole" required>
        <option value="" disabled selected>Please select...</option>
        <option value="SUPERVISOR">SUPERVISOR</option>
        <option value="ADMIN">ADMIN</option>
    </select>
</div>

<br>

<div class="table-responsive">

    <table class="table table-striped table-bordered table-condensed table-hover search-table" ts-wrapper>
        <thead>
            <tr>
                <th><input type="checkbox" ng-checked="vm.allStaffRowSelection" ng-click="vm.selectAllStaffRows()" /></th>
                <th ts-criteria="username|lowercase" ts-default ts-name="username">Username</th>
                <th ts-criteria="role.name|lowercase" ts-name="role">User Role</th>
                <th ts-criteria="last_login|parseInt" ts-name="last_login">Last Login</th>
            </tr>
        </thead>

        <tbody>
            <tr ng-repeat="data in vm.staffMembers track by data.id" ts-repeat class="{{ data.selected ? 'selected' : '' }}">
                <td align="center">
                    <input type="checkbox" ng-checked="data.selected" ng-click="vm.selectStaffRow(data)" />
                </td>
                <td>
                    {{ data.username }}
                </td>
                <td>
                    {{ data.role.name }}
                </td>
                <td align="center">
                    {{ data.last_login | date : 'yyyy-MM-dd' }}
                </td>
            </tr>
        </tbody>

    </table>

</div>

<hr>

<!-- ACADEMIC YEARS -->
<h2>Manage academic years: </h2>

<div class="table-responsive">

    <table class="table table-striped table-bordered table-condensed table-hover search-table" ts-wrapper>
        <thead>
            <tr>
                <th><input type="checkbox" ng-checked="vm.allYearRowSelection" ng-click="vm.selectAllYearRows()" /></th>
                <th ts-criteria="name|lowercase" ts-default ts-name="name">Name</th>
                <th ts-criteria="start_date|parseInt" ts-name="start_date">Start Date</th>
                <th ts-criteria="end_date|parseInt" ts-name="end_date">End Date</th>
            </tr>
        </thead>

        <tbody>
            <tr ng-repeat="data in vm.academicYears track by data.id" ts-repeat class="{{ data.selected ? 'selected' : '' }}">
                <td align="center">
                    <input type="checkbox" ng-checked="data.selected" ng-click="vm.selectYearRow(data)" />
                </td>
                <td align="center">
                    {{ data.name }}
                </td>
                <td align="center">
                    {{ data.start_date | date : 'yyyy-MM-dd'}}
                </td>
                <td align="center">
                    {{ data.end_date | date : 'yyyy-MM-dd' }}
                </td>
            </tr>
        </tbody>

    </table>

</div>